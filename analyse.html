
<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Use this section for your webpage metadata - more detail https://www.w3schools.com/html/html_head.asp -->
	<title>Analyse - Data & AI</title>
	<link rel="icon" type="image/x-icon" href="img/myicon.png"/>
	<!-- my javascript file -->
	<script src="js/nav.js" defer></script>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<!-- to make sure works on mobiles -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--  my CSS sheet -->
	<link rel="stylesheet" href="css/styles.css">
	<!--  code snippets display by https://highlightjs.org/ -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
</head>

<body class="home">

	<!-- header for logo, navigation bar and project outline -->
		<div class="nav">
		<div class ="logo">
			<a href="index.html">DATA+AI</a>
		</div>

		<button class="mobile-nav-toggle" aria-controls="primary-navigation" aria-expanded="false"><span class="sr-only">Menu</span></button>

		<nav>
			<ul id="primary-navigation" data-visible="false" class="primary-navigation flex">
				<li><a href="about.html">about</a></li>
				<li><a href="plan.html">plan</a></li>
				<li><a href="prepare.html">prepare</a></li>
				<li><a href="process.html">process</a></li>
				<li><a href="analyse.html">analyse</a></li>
				<li><a href="share.html">share</a></li>
			</ul>
		</nav>
		</div>

		<div class="page-start analyse flex">
			<div>
			<h1>UNCOVERING TRENDS AND INSIGHTS</h1>
			<h2>Learn more below</h2>
			</div>
		</div>
	

	<!-- end header, on to main section -->

	<div class="page-content">
		<div>
			<h3>SORTING</h3>
			<p>Analysing data is the most exciting part of the data analysis process. It is where all the work you've completed up to this point pays off. Data analysts are like data detectives that work to identify trends and relationships between datasets. The first step of analysis usually involves formatting your data.</p>
			<p>You may be familiar with sorting. This is where we can arrange rows of our data in order of a chosen variable. In our case, we will sort our lyrics on their occurrences from highest to lowest. Since this data is so long we will use the <code>toString</code> and <code>print</code> functions to output a complete list. We will then be able to see the most used words in Kanye West's music. We will also sort his album sales in descending order, to see what his most commercially successful albums were. Let's take a look at the code.</p>
		</div>
		<div class="code-snippet">
			<pre>
				<code class="language-python"># Python code from our notebook
# SORTING BY MOST USED LYRICS AND MOST ALBUM SALES
					
# See list of most common words
df_lyrics = df_lyrics.sort_values(by = ['Occurrence'], ascending = False)
# Reset index to new order
df_lyrics = df_lyrics.reset_index(drop = True)
# Convert to text data and print full list
print(df_lyrics.to_string())

# Sort albums by most sales to least sales
df_sales = df_sales.sort_values(by = ['Total EAS'], ascending = False)
# Reset index
df_sales = df_sales.reset_index(drop = True)
# Display dataframe
df_sales.head(15)</code>
			</pre>
		</div>
		<div>
			<h3>RESULTS</h3>
			<p>From sorting these datasets, we can see 2 initial insights. The most sung word is "Love". This indicates a strong positive theme to Kanye West's music overall. The word "Shit" may indicate a more angry or negative sentiment, but this is the 4th most common word. "God" is the 10th most spoken which may indicate a religious theme to the music.</p>
			<p>From the sorted sales data, we can see the most commercially successful album is <i>Graduation</i>. The least successful is <i>Jesus Is King</i>. This is omitting the collaboration albums <i>Kids See Ghosts</i> and <i>VULTURES</i>. For further analysis is would be interesting to compare <i>Graduation</i> with <i>Jesus Is King</i> to see the difference in themes between the most and least successful albums.</p>
		</div>
		<div class="code-snippet">
			<pre>
				<code class="language-html">Output of results from our notebook:

			Name		Occurrence
0			love		202
1			make		198
2			right		194
3			shit		193
4			never		180
5			one			166
6			feel		156
7			life		140
8			still		139
9			god			136


    Album               Total EAS
0	  Graduation          15316000.0
1	  Orphan              11478000.0
2	  Late Registration   10887000.0
3	  The College Dropout 10330000.0
4	  My Beautiful Dark
    Twisted Fantasy     9657000.0
5	  Watch the Throne    8767000.0
6	  808s & Heartbreak   8174000.0
7	  The Life of Pablo   6622000.0
8	  Features            5738000.0
9	  Yeezus              4846000.0
10	Donda               4140000.0
11	Ye                  3078000.0
12	Jesus Is King       1837000.0
13	Kids See Ghosts     1730000.0
14	VULTURES            1932000.0</code>
			</pre>
		</div>
		<div>
			<h3>FILTERING</h3>
			<p>Filtering allows us to focus on specific parts of data and ignore the rest. This means we can analyse the only data based on the conditions we specify. For our project, we want to filter by album, so we can see themes associated with each. This will then allow us to compare each album's theme with its sales in order to see trends. We have already added album names to the lyrics text file. Some datasets will already have this information, so you will need to check yours for your own project.</p>
		</div>
		<div>
			<h3>AI ASSISTANCE</h3>
			<p>In order to filter by album name, we need to go back to the code that reads in our text file. If you remember, this was a for loop that read over all the words and lines in the file. Now each album has its own individual words that need to be counted and reset when the next album begins. Our data structure is also slightly more complex as the words need to be stored under each album instead of one complete dictionary.</p>
			<p>These coding problems are too complex to address in this beginner's tutorial. However, for your own project and for this one, you can use AI assistance at this point. <a href='https://chat.openai.com/auth/login'>ChatGPT</a> allows you to code in natural language (English) by describing what you need to achieve. The chatbot will then provide you with example code that you can copy into your notebook. Make sure you read this through to make sure it does what you want. ChatGPT includes comments on each line that you can check. If you are unsure or the code doesn't work the way you require, you can add further prompts to the AI.</p>
		</div>
		<div class="code-snippet">
			<pre>
				<code class="language-html">ChatGPT Text
					
Prompt 1: Write python code to read a text file containing lyrics and count occurances of each unique word. Include a way to separate sections of the text file into albums. Each album will have its own count of unique words.

Prompt 2: Add to the code to skip lines in the text file that include a square bracket.

Prompt 3: Now remove all punction from the words except from apostrophes. If a word has an apostrophe, treat this as one word.

Prompt 4: Skip any words that are included in a pre-defined list called STOPWORDS.

Prompt 5: Record the album name for each album. It is located under the delimiter (=====).

Prompt 6: Will it read the album name for the first section from the very first line of the file?

Prompt 7: Define a new function that prints the top 10 most occuring words of each album.</code>
			</pre>
		</div>
		<div class="code-snippet">
			<pre>
				<code class="language-python"># Python code from our notebook
# READING IN LYRICS BY ALBUM

import re
from collections import Counter
from wordcloud import STOPWORDS

# Initializing stopwords
stopwords = list(STOPWORDS)+['know', 'now', 'got', "ain't", 'oh', 'ooh', 'la', 'see', 'go', 'yeah', 'say', 'need', 'man', 'back', 'let', "'cause", "gon'", 'wanna', 'ya', 'uh', 'woo', 'mhm', 'huh', "i'ma", 'bam', "'ey", 'dem', 'gwaan', 'hey', 'lah', 'gotta', 'gonna']

def count_unique_words(filename):
	# Open the file and read its contents
	with open(filename, 'r') as file:
		text = file.read()
	
	# Split the text into sections for each album (assuming each album is separated by a delimiter, such as '=====')
	albums = re.split(r'={5,}', text)
	
	# Initialize a dictionary to store word counts for each album
	album_word_counts = {}
	
	# Define the regular expression pattern to tokenize the lyrics into words
	word_pattern = re.compile(r"[\w']+")
	
	# Iterate over each album
	for i, album_section in enumerate(albums, start=1):
		if i == 1:
			# Extract album name from the very first line of the file
			album_lines = album_section.strip().split('\n')
			album_name = album_lines[0].strip()  # Assumes the album name is the first line
		else:
			# Extract album name from the album section
			album_lines = album_section.strip().split('\n')
			album_name = album_lines[0].strip()  # Assumes the album name is the first line after the delimiter
		
		# Tokenize the lyrics of the album into words
		words = []
		for line in album_lines[1:]:
			if '[' not in line:  # Skip lines containing square brackets
				words.extend(word_pattern.findall(line.lower()))  # Convert all words to lowercase
		
		# Skip stopwords
		words = [word for word in words if word not in stopwords]
		
		# Count the occurrences of each unique word in the album
		word_counts = Counter(words)
		
		# Store the word counts for the current album
		album_word_counts[album_name] = word_counts
	
	return album_word_counts

def print_top_words_per_album(album_word_counts):
	# Print the top 10 most occurring words for each album
	for album, word_counts in album_word_counts.items():
		print(f'Top 10 words for {album}:')
		sorted_word_counts = sorted(word_counts.items(), key=lambda x: x[1], reverse=True)
		for word, count in sorted_word_counts[:10]:
			print(f'{word}: {count}')

def main():
	filename = 'Kanye_West_Lyrics.txt'  # Replace 'lyrics_with_albums.txt' with the name of your text file
	album_word_counts = count_unique_words(filename)
	
	# Print the word counts for each album
	print_top_words_per_album(album_word_counts)
	
if __name__ == "__main__":
	main()</code>
			</pre>
		</div>
		<div>
			<h3>RESULTS</h3>
			<p>After using AI to help with this section of coding, we managed to produce a list of all albums and the top 10 most used words for each. If you check these, spending on your lyrics source for the project, there may be a lot of filler words. In our example, these were words like “ooh” and “la.” In the code included above, all of these filler words are added to our stopwords and filtered out of the analysis. You may wish to do the same for your project.</p>
			<p>Now with our results we can see the most common words from each album and begin to notice themes. We can then correlate this with the album sales to see which themes appear to be the most successful.</p>
			<p><i>Graduation</i>, the most successful album, has frequent occurrences of “study” and “life.” This may indicate a theme of university or education in general, and how it connects to life as a whole. “Never” and “good” are opposing sentiments which indicate possible themes of struggle. This basic analysis shows these theme connect with a large audience due to the commercial success of the album.</p>
			<p>In contrast, <i>Jesus Is King</i> is commercially the least successful album from Kanye West. Its constant use of the words “Hallelujah,” “Lord,” “God,” and “Jesus” implies a strong Christian theme that general consumers do not seem to identify with as much as themes of life, struggle and education. The next step is to share these findings. <a href="share.html">Find out how to share these results</a>.</p>
		</div>
		<div class="code-snippet">
			<pre>
				<code class="language-html">Output of results from our notebook
					
Top 10 words for Jesus is King:
hallelujah: 42
sing: 34
work: 32
every: 31
lord: 31
hands: 29
god: 28
jesus: 27
'til: 25
power: 23

Top 10 words for Ye:
love: 28
make: 25
still: 25
niggas: 16
way: 14
shit: 13
feel: 12
day: 11
girl: 11
sometimes: 10

Top 10 words for The Life of Pablo:
feel: 62
god: 35
love: 32
yeezy: 32
right: 30
shit: 30
nigga: 28
time: 28
good: 27
turn: 26

Top 10 words for Yeezus:
niggas: 30
god: 28
bitch: 25
black: 22
fuck: 21
love: 21
right: 19
high: 19
new: 18
shit: 17

Top 10 words for My Beautiful Dark Twisted Fantasy:
lights: 49
look: 46
fucking: 45
shit: 34
love: 33
baby: 32
ridiculous: 32
life: 31
one: 30
nigga: 30

Top 10 words for 808s & Heartbreak:
amazing: 55
love: 43
never: 42
will: 31
stop: 30
keep: 29
real: 27
things: 23
okay: 22
wrong: 21

Top 10 words for Graduation:
never: 52
good: 49
shit: 41
told: 39
lights: 39
right: 32
much: 31
life: 31
study: 28
brother: 28

Top 10 words for Late Registration:
make: 63
broke: 61
forever: 58
better: 57
homie: 38
gone: 34
right: 32
day: 31
mama: 31
take: 28

Top 10 words for The College Dropout:
well: 56
right: 45
still: 41
things: 39
shit: 38
one: 38
work: 35
said: 33
high: 29
want: 29</code>
			</pre>
		</div>
	</div>

	<!-- end the main section of the homepage -->

	<!-- begin footer -->
	<footer>
	<p><b>IN FULFILLMENT OF:</b> Multimedia Analysis & Design (B) (2024)</p>
	<p><b>UNIVERSITY OF GLASGOW STUDENT NO.</b> 2147105s</p>
	</footer>
	<!-- end footer -->

</body>
</html>